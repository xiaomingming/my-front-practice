<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>测试</title>
        <style>
            * { margin: 0; padding: 0; }
            body { font: 12px/1.5 arail; }
            ul { list-style: none; }
            .login .form { overflow: hidden; _zoom: 1;}
            .login .form-infor { float: left; /*width: 400px;*/ }
            .login .form-tips { float: right; width: 200px; border: 1px solid orange; }
            .login .form-item { margin-top: 10px; font-size: 14px; overflow: hidden; zoom:1; }
            .login .form-item label { float: left; width: 10em; height: 24px; line-height: 24px; padding-right: 0.5em; text-align: right; }
            .login .form-item select { float: left; }
            .login .form-item input.text,.login .form-item input.passowrd { float: left; height: 22px; line-height: 22px; width: 10em; border: 1px solid #666; color: #444; }
            .login .form-item input:focus { border: 1px solid green; }
            .login .form-item .error { float: left; padding-left: 10px; color: red; height: 22px; line-height: 22px; overflow: hidden; }
            .login .submit-container { /*text-align: center;*/ }
            .login .form-item .form-submit { width: 6em; height: 24px; margin-left: 137px; background: #44a689; color: #fff; overflow: visible; cursor: pointer; border: 0; }
        </style>
    </head>
    <body>
        <div class="login">
            <form action="http://www.baidu.com" class="form" id="login">
                <div class="form-infor">
                    <div class="form-item">
                        <label for="username">用户名:</label><input type="text" id="username" class="text user-name" />
                        <div class="error"></div>
                    </div>
                   
                    <div class="form-item"><label>密码:</label><input type="password" class="pwd passowrd" /><div class="error"></div></div>
                    
                    <div class="form-item submit-container"><input type="submit" class="form-submit" value="登录"></div>
                </div>
            </form>
        </div>
        
        <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js "></script>
        <script type="text/javascript" src="../js/utils/jquery-validator.js"></script>
        <script type="text/javascript">
            /*
            * 验证的调用顺序对验证的先后有影响
            * 比如吧defaultValidate定义在自定义函数前面，则优先执行defaultValidate配置规则
            */
            checkObj.initialize($('#login'),{
                fullName:$('.user-name'),
                pwd:$('.pwd')
            },{
                fullName:{
                    isEmpty:{
                        validate:function(val){
                            return val!='';
                        },
                        message:'用户名不能为空！'//错误消息
                    },
                    defaultValidate:['isUserName']
                },
                pwd:{
                    defaultValidate:['isEmpty'],
                    isPwdRight:{
                        validate:function(val){
                            var flag=false;
                            $.ajax({
                                url:'',
                                type:'get',
                                async:false,
                                success:function(res){
                                    flag=false;
                                }
                            })
                            return flag;
                        },
                        message:'密码不对'
                    }
                }
            });
        </script>
    </body>
</html>