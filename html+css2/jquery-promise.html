<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title></title>
        <style>
    * { margin: 0; padding: 0; }
    body { font: 12px/1.5 arail; }
    ul { list-style: none; }
    button { height: 2em; font-size: 14px; width: 4em; background: orange; color: #fff; border-radius: 3px; cursor: pointer; margin-bottom: 10px; border: 1px solid #eee;}
    .box { position: absolute; border: 1px solid orange; height: 40px; line-height: 40px; width: 160px; background: #eee; text-align: center; }
    .box2 { top: 120px; }
    .box3 { top: 200px; }
    .box4 { top: 280px; }
        </style>
    </head>
    <body>
    <button>go</button>
    <div class="test">
        <div class="box1 box"><h1>lalalalalla</h1></div>
        <div class="box2 box"><h1>hahahahahha</h1></div>
        <div class="box3 box"><h1>xixixixixixi</h1></div>
        <div class="box4 box"><h1>dididididdid</h1></div>
    </div>
        <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js "></script>
        <script type="text/javascript">
            $(function () {
                //设置全局动画变量来判断动画状态
                var animateFlag = true;
                $('button').on('click', function () {
                    if (animateFlag) {
                        animateFlag = false;
                        $('.box1').animate({
                            left: '+=100px'
                        }, 300, function () {
                            $('.box1').siblings().animate({
                                left: '+=100px'
                            }, function () {
                                animateFlag = true;
                            });
                        });
                    }
                });
            });
            $(function(){
                var clickCount=1;
                var boxLength=$('.test>div').length;
                var boxNumber=clickCount%boxLength;
                $('button').on('click',function(){
                    if($('.box'+boxNumber).queue('fx').length){
                        return;
                    }
                    clickCount++;
                    $('.box'+boxNumber).animate({
                        left:'+=100px'
                    },300,function(){
                        $('.box'+boxNumber).siblings().animate({
                            left:'+=100px'
                        },function(){
                            boxNumber=clickCount%boxLength;
                            if(!boxNumber){
                                boxNumber=boxLength;
                                clickCount=0;
                            }
                        });
                    });  
                });
            });
        </script>
    </body>
</html>