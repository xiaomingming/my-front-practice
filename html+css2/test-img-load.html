<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>测试</title>
        <style>
            * { margin: 0; padding: 0; }
            body { font: 12px/1.5 arail; }
            ul { list-style: none; }
            .test { margin: 20px; border: 2px solid orange; }
        </style>
    </head>
    <body>
        <div class="test">
            <input type="button" id="btn" value="click me" />
        </div>
        <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js "></script>
        <script type="text/javascript">
            window.onload=function(){
                var img=new Image(),t1=null,t2=null,btn=document.getElementById('btn');
                
                var loadImg=function(){
                    //document.body.appendChild(img);
                    if(img.complete){
                        alert(this.width);
                        return;
                    }
                    img.onload=function(){
                        //alert('created');
                        t1=new Date();
                        //console.log(t2-t1);
                        alert(this.width);
                        img.onload=null;
                    };
                    img.src='../images/142.jpg';
                };
                
                t2=new Date();
                btn.onclick=function(){
                    loadImg();
                };
            };
        </script>
    </body>
</html>